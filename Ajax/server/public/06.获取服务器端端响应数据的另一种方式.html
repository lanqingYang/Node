<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>状态码</title>
  </head>
  <body></body>
  <script>
    var xhr = new XMLHttpRequest();
    //0 已经创建了ajax对象，但还没对ajax对象进行配置
    console.log(xhr.readyState);
    xhr.open("get", "http://localhost:4000/readystate");
    //1 对ajax对象进行了配置，还没发送请求
    console.log(xhr.readyState);

    xhr.onreadystatechange = function () {
      //2 请求发送
      //3 已经接收到服务器端部分数据
      //4 服务器端的响应数据已经接收完成
      console.log(xhr.readyState);
      //对状态码进行判断 ==4 代表数据已经接收完成
      if (xhr.readyState == 4) {
        console.log(xhr.responseText);
      }
    };
    xhr.send();
  </script>
</html>
