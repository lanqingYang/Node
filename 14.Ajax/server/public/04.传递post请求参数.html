<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>传递get请求参数</title>
  </head>
  <body>
    <p><input type="text" id="username" /></p>
    <p><input type="text" id="age" /></p>
    <p><input type="button" value="提交" id="btn" /></p>
  </body>
  <script>
    var btn = document.getElementById("btn");
    //获取用户名
    var username = document.getElementById("username");
    //获取年龄
    var age = document.getElementById("age");

    btn.onclick = function () {
      //创建ajax对象
      var xhr = new XMLHttpRequest();

      var namevalue = username.value;
      var agevalue = age.value;
      //拼接请求参数 username=123&age=20
      var params = "username=" + namevalue + "&age=" + agevalue;
      //告诉请求方式和地址
      xhr.open("post", "http://localhost:4000/post");
      //设置请求参数格式的类型(post请求必须要设置)
      xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
      //发送
      xhr.send(params);

      //获取服务器端响应的数据
      xhr.onload = function () {
        console.log(xhr.responseText);
      };
    };
  </script>
</html>
